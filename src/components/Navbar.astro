---
import { Image } from "astro:assets";
import logo from "../images/logo.svg";
---

<header class="fixed inset-x-0 top-0 z-50 bg-blue-100 shadow">
  <nav
    class="flex items-center justify-between p-1 lg:px-32 sm:px-"
    aria-label="Global"
  >
    <div class="flex lg:flex-1">
      <a href="#" class="-m-5 p-1.5">
        <span class="sr-only">Your Company</span>
        <Image class="h-32 w-auto" src={logo} alt="" />
      </a>
    </div>
    <div class="flex lg:hidden">
      <button
        type="button"
        class="mr-7 inline-flex items-center justify-center rounded-md p-2.5 text-blue-900"
        id="btn-hamburger"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="h-12 w-12"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
        </svg>
      </button>
    </div>
    <div class="hidden lg:flex lg:gap-x-12">
      <a href="#home" class="text-lg font-semibold leading-6 text-blue-900"
        >Accueil</a
      >
      <a href="#services" class="text-lg font-semibold leading-6 text-blue-900"
        >Services</a
      >
      <a href="#faq" class="text-lg font-semibold leading-6 text-blue-900"
        >FAQ</a
      >
      <a href="#villes" class="text-lg font-semibold leading-6 text-blue-900"
        >Villes</a
      >
      <a href="#contact" class="text-lg font-semibold leading-6 text-blue-900"
        >Contact</a
      >
    </div>
    <div class="hidden lg:flex lg:flex-1 lg:justify-end">
      <a
        href="tel:4505420991"
        class="rounded-md transition ease-in-out delay-100 bg-blue-600 px-6 py-2.5 text-lg font-semibold text-white shadow-sm hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-400"
        >450-542-0991</a
      >
    </div>
  </nav>
  <!-- Mobile menu, show/hide based on menu open state. -->
  <div id="mobile-menu" class="hidden" role="dialog" aria-modal="true">
    <!-- Background backdrop, show/hide based on slide-over state. -->
    <div class="fixed inset-0 z-50"></div>
    <div
      class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-blue-100 px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-white/10"
    >
      <div class="flex items-center justify-between">
        <a href="#" class="-m-10 p-1.5 -mt-12">
          <span class="sr-only">Your Company</span>
          <Image class="h-32 w-auto" src={logo} alt="" />
        </a>
        <button
          id="navbar-close"
          type="button"
          class="mr-2 rounded-md p-2.5 text-blue-900"
        >
          <span class="sr-only">Close menu</span>
          <svg
            class="h-12 w-12"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="mt-10 flow-root">
        <div class="-my-6 divide-y divide-gray-500/25">
          <div class="space-y-2 py-6">
            <a
              href="#home"
              class="mx-8 block rounded-lg px-3 py-2 text-lg font-semibold leading-7 to-blue-900 hover:bg-blue-200"
              >Accueil</a
            >
            <a
              href="#services"
              class="mx-8 block rounded-lg px-3 py-2 text-lg font-semibold leading-7 to-blue-900 hover:bg-blue-200"
              >Services</a
            >
            <a
              href="#faq"
              class="mx-8 block rounded-lg px-3 py-2 text-lg font-semibold leading-7 to-blue-900 hover:bg-blue-200"
              >FAQ</a
            >
            <a
              href="#villes"
              class="mx-8 block rounded-lg px-3 py-2 text-lg font-semibold leading-7 to-blue-900 hover:bg-blue-200"
              >Villes</a
            >
            <a
              href="#contact"
              class="mx-8 block rounded-lg px-3 py-2 text-lg font-semibold leading-7 to-blue-900 hover:bg-blue-200"
              >Contact</a
            >
          </div>
          <div class="py-6">
            <a
              href="tel:4505420991"
              class="ml-10 rounded-md bg-blue-600 px-6 py-2.5 text-lg font-semibold text-white shadow-sm hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-400"
              >450-542-0991</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<script is:inline>
  // MOBILE MENU
  const btnHamburger = document.getElementById("btn-hamburger");
  const mobileMenu = document.getElementById("mobile-menu");
  const btnNavbarClose = document.getElementById("navbar-close");
  const navItems = document.querySelectorAll("#mobile-menu a"); // Select all nav items

  btnNavbarClose.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  btnHamburger.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  // Close mobile menu when a nav item is clicked
  navItems.forEach((item) => {
    item.addEventListener("click", () => {
      mobileMenu.classList.add("hidden"); // Ensure the menu closes
    });
  });
</script>
